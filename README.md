# gsocialsim - Synthetic Social Ecology Simulator

**gsocialsim** is a Python-based research framework for simulating human-like social behavior, belief formation, and influence dynamics across online social networks and offline physical interactions. It is designed as a tool for computational social science, allowing researchers to study how beliefs and behaviors survive, spread, and evolve under various social and technical conditions.

The simulation is built on a set of core principles outlined in the [Product Requirements Document (PRD.md)](PRD.md), including persistent agents with resource constraints, multiple channels of influence (online and physical), personality-driven learning, and population-level evolution.

![Influence Graph Visualization](diagrams/influence_graph_example.png)
*(Example visualization generated by the framework)*

---

## Core Features

- **Autonomous Agents:** Agents operate independently, driven by internal policies and beliefs.
- **Budget Constraints:** Agents have finite daily budgets for `action` and `attention`, creating realistic behavioral constraints.
- **Dual Influence Channels:**
    - **Online Network:** A configurable social graph where influence propagates through follower networks.
    - **Physical Layer:** High-impact, proximity-based interactions that occur when agents' schedules cause them to be in the same place at the same time.
- **Personality-Driven Learning:** Agents use a contextual bandit policy to learn which actions best satisfy their unique, personality-weighted reward preferences (e.g., seeking affiliation vs. status).
- **Evolutionary Dynamics:** The agent population evolves over time. Low-fitness agents are removed and replaced by mutated offspring of successful agents, creating long-term selective pressure.
- **Attributable Belief Crossings:** The framework's primary research output. It explicitly logs when an agent's belief crosses a significant threshold and uses an attribution engine to assign credit to the sources of influence.
- **Interactive Visualization:** Includes a tool to generate a self-contained HTML file that visualizes the social network, the flow of influence, and the final belief states of agents.

---

## Getting Started

### Prerequisites

- Python 3.10+
- `pip` for installing packages

### Installation

1.  **Clone the repository:**
    ```bash
    git clone <repository_url>
    cd gsocialsim
    ```

2.  **Create and activate a virtual environment (recommended):**
    ```bash
    python3 -m venv .venv
    source .venv/bin/activate
    ```

3.  **Install the required dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

### Running a Simulation & Visualization

The easiest way to see the simulation in action is to run the provided example script. This will set up a small network of agents, run the simulation for 500 steps, and generate an interactive graph of the results.

```bash
python3 run_and_visualize.py
```

After the script finishes, it will produce an `influence_graph.html` file in the root of the project. Open this file in your web browser to explore the social network and the resulting flow of influence.

- **Nodes** are agents, colored by their final belief stance (Blue=Positive, Red=Negative, Gray=Neutral).
- **Gray arrows** represent the follower network (potential influence).
- **Thick red arrows** represent actual, realized influence where a belief crossing occurred. The thickness indicates the number of successful influence events.

---

## Project Structure

```
gsocialsim/
├── PRD.md
├── README.md
├── requirements.txt
├── run_and_visualize.py
├── src/gsocialsim/
│   ├── agents/         # Core Agent class and its state (beliefs, budgets, etc.)
│   ├── analytics/      # Belief crossing, attribution, and logging
│   ├── evolution/      # Evolutionary system for population turnover
│   ├── kernel/         # The main simulation clock and WorldKernel
│   ├── networks/       # Social network graph implementation
│   ├── physical/       # Physical world, places, and schedules
│   ├── policy/         # Agent action policies (BanditLearner)
│   ├── social/         # Global Social Reality (latent trust relationships)
│   ├── stimuli/        # Content and perception objects
│   └── visualization/  # HTML graph exporter
└── tests/              # Unit tests for all simulation phases
```

---

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.